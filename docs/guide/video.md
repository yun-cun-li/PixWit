# 🎞️ 视频处理

PixWit 内置专业的视频编辑功能，支持视频裁剪、删除中间段、压缩和格式转换。

## 打开视频

### 支持的格式

- MP4
- AVI
- MOV
- MKV
- FLV
- WMV
- WebM

### 打开方法

**方法一：主界面打开**
1. 双击托盘图标打开主界面
2. 点击"打开图片/视频"按钮
3. 选择视频文件

**方法二：拖拽打开**
1. 直接拖拽视频文件到主窗口
2. 自动打开视频编辑器

**方法三：录制后编辑**
1. 录屏完成后点击"编辑"按钮
2. 直接进入视频编辑器

## 视频裁剪 ✂️

### 专业时间轴

**时间轴特性：**
- 📸 视频缩略图预览
- 📊 音频波形叠加显示
- 🔍 支持缩放和滚动
- 🎯 精确到帧的定位

### 时间轴操作

| 操作 | 快捷键 | 说明 |
|-----|--------|------|
| 缩放时间轴 | **Ctrl + 滚轮** | 以鼠标为中心缩放 |
| 滚动时间轴 | **滚轮** | 水平滚动查看 |
| 播放/暂停 | **Space** | 控制播放 |

**缩放范围：**
- 最小：10%（全局预览）
- 最大：1000%（逐帧查看）

::: tip 技巧
放大时间轴到 200% 以上，可以精确定位到具体帧
:::

### 头尾裁剪

**操作步骤：**

1. **定位起始点**
   - 拖动时间轴左侧的**左滑块**到起始位置
   - 或点击时间轴定位，然后点击"设为起点"

2. **定位结束点**
   - 拖动时间轴右侧的**右滑块**到结束位置
   - 或点击时间轴定位，然后点击"设为终点"

3. **预览效果**
   - 点击"播放选区"按钮预览裁剪后的效果
   - 绿色区域为保留片段
   - 灰色区域为删除部分

4. **保存裁剪**
   - 点击"保存裁剪"按钮
   - 选择保存位置
   - 等待导出完成

::: info 提示
选区时长会显示在底部状态栏
:::

### 删除中间段

**功能说明：**
- 在头尾裁剪基础上，支持删除视频中间的多个片段
- 自动拼接保留的片段
- 适合去除视频中的错误、停顿等

**操作步骤：**

1. **标记删除段**
   - 拖动时间轴选择要删除的区间
   - 点击"添加删除段"按钮
   - 可添加多个删除段

2. **查看删除段**
   - 左侧列表显示所有删除段
   - 时间轴以**半透明红色**覆盖显示
   - 当前选中段**高亮显示**

3. **预览删除段**
   - 在删除段列表中**双击**任意项
   - 右侧预览窗口即时播放该段

4. **编辑删除段**
   - 点击列表中的删除段可重新编辑
   - 点击"删除"按钮移除该删除段

5. **导出视频**
   - 点击"保存"按钮
   - 自动拼接保留的片段
   - 等待处理完成

::: tip 高级技巧
- 列表支持滚动，可添加任意多个删除段
- 删除段按时间顺序自动排序
- 保留片段会无缝拼接
:::

## 视频压缩 🗜️

### 自动压缩

**功能说明：**
- 减小视频文件体积
- 保持原始分辨率和帧率
- 一般可减小 50%-80% 体积

**操作步骤：**

1. **打开视频**
2. **点击"压缩"按钮**
3. **选择压缩级别**：
   - **高质量**（CRF 23）- 轻微压缩，质量几乎无损
   - **平衡**（CRF 28）- 推荐，质量与体积平衡
   - **高压缩**（CRF 32）- 显著减小体积，质量略有下降
4. **等待压缩完成**

### 压缩参数说明

**CRF 值：**
- CRF = Constant Rate Factor（恒定质量因子）
- 范围：0-51
- 值越大，压缩率越高，质量越低
- 推荐值：23-28

| CRF | 质量 | 体积 | 适用场景 |
|-----|------|------|---------|
| 23 | 极高 | 较大 | 需要高质量保存 |
| 28 | 良好 | 适中 | 一般使用（推荐）|
| 32 | 可接受 | 很小 | 快速分享 |

::: tip 建议
- 录制完成的视频建议使用"平衡"模式压缩
- 已经是 MP4 格式的视频也可以再次压缩
:::

## 格式转换 🔄

### 支持的格式

| 格式 | 说明 | 适用场景 |
|-----|------|---------|
| MP4 | 最通用的格式，兼容性最好 | 一般分享、上传 |
| AVI | 传统格式，体积较大 | 兼容老设备 |
| MOV | Apple 格式 | Mac/iOS 设备 |
| WebM | 网页视频格式 | 网页嵌入 |
| GIF | 动图格式 | 社交媒体、论坛 |

### 转换方法

1. **打开视频**
2. **点击"格式转换"标签页**
3. **选择目标格式**
4. **设置参数**（可选）
5. **点击"开始转换"**
6. **等待完成**

### GIF 转换

**特色功能：**
- 采用 palettegen/paletteuse 两阶段优化
- 生成高质量 GIF
- 颜色过渡更平滑

**GIF 参数：**
- **帧率**：建议 10-15 FPS
- **尺寸**：建议不超过 800px
- **时长**：建议不超过 10 秒

::: warning 注意
GIF 文件体积可能很大，建议：
- 裁剪为短片段
- 降低分辨率
- 减少帧率
:::

**GIF 打开策略：**
- 拖拽或打开 GIF 文件会自动进入视频剪辑窗口
- 可以像视频一样编辑 GIF

## 视频信息

### 查看信息

打开视频后，底部状态栏显示：
- ⏱️ 时长
- 📐 分辨率
- 🎬 帧率
- 📦 文件大小
- 🎨 编码格式

### 详细信息

右键点击视频 → "属性"查看：
- 视频编码器
- 音频编码器
- 比特率
- 创建时间

## 高级技巧

### 精确定位

**方法一：缩放时间轴**
1. 按住 **Ctrl** + 滚轮放大时间轴
2. 放大到 500% 以上
3. 可以看到每一帧
4. 精确定位

**方法二：逐帧播放**
1. 暂停播放
2. 按 **→** 键前进一帧
3. 按 **←** 键后退一帧

### 快速预览

- **Space**：播放/暂停
- **Home**：跳到开始
- **End**：跳到结束
- **←/→**：逐帧播放

### 批量删除片段

1. 播放视频，记录需要删除的时间点
2. 逐个添加删除段
3. 在列表中双击预览，确认无误
4. 一次性导出处理

## 常见问题

### Q：视频裁剪会重新编码吗？

**说明：**
- 是的，会重新编码
- 使用 H.264 编码器
- 保持原始分辨率和帧率

### Q：压缩会损失质量吗？

**说明：**
- 压缩是有损的
- 使用推荐的"平衡"模式，肉眼几乎看不出差异
- 可以多次压缩，但每次都会损失质量

### Q：GIF 文件太大怎么办？

**解决方法：**
1. 裁剪为更短的片段（3-5秒）
2. 降低分辨率（不超过 640px）
3. 降低帧率（10 FPS）
4. 使用视频压缩工具而非 GIF

### Q：处理速度慢？

**可能原因：**
- 视频文件很大
- 分辨率很高
- 电脑性能不足

**解决方法：**
- 耐心等待（显示进度条）
- 先压缩再处理
- 关闭其他占用资源的程序

### Q：支持批量处理吗？

**当前状态：**
- 暂不支持批量处理
- 需要逐个文件处理

### Q：能保留原视频质量吗？

**说明：**
- 重新编码会有微小的质量损失
- 使用高质量设置（CRF 18）可以接近无损
- 或使用专业视频编辑软件

### Q：音频会保留吗？

**说明：**
- 是的，音频会保留
- 音频编码：AAC
- 音频质量：保持原始

## 下一步

- 🎬 了解 [录屏功能](/guide/recording)
- 🖼️ 查看 [图片处理](/guide/image)
- ⌨️ 查看 [快捷键汇总](/guide/shortcuts)

